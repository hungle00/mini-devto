<!-- Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid justify-content-between">
    <!-- Left elements -->
    <div class="d-flex">
      <!-- Brand -->
      <%= link_to "Mini Devto", root_path, class:"navbar-brand me-2 mb-1 d-flex align-items-center" %>

      <!-- Search form -->
      <%= form_with(url: root_path, method: :get, local: true, class: "input-group w-auto my-auto d-none d-sm-flex ms-2") do |f| %>
         <%= f.text_field :search, placeholder: "Search", 
          class: "form-control rounded",
          style: "min-width: 125px;" %>

        <span class="input-group-text border-0 text-white d-none d-lg-flex"
          ><i class="fas fa-search"></i
        ></span>
      <% end %>
    </div>
    <!-- Left elements -->

    <!-- Right elements -->
    <ul class="navbar-nav flex-row">
      <% if current_user %>
        <li class="nav-item me-3 me-lg-1">
          <%= link_to '<span><i class="fas fa-pen"></i>New Article</span>'.html_safe, new_article_path, class: "nav-link" %>
        </li>
        <li class="nav-item dropdown me-3 me-lg-1">
          <a
            class="nav-link dropdown-toggle hidden-arrow"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-bell fa-lg"></i>
            <span class="badge rounded-pill badge-notification bg-danger">12</span>
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuLink"
          >
            <li><a class="dropdown-item" href="#">Notifications</a></li>
            <li class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#"> .... </a></li>
          </ul>
        </li>
        <li class="nav-item dropdown mx-2 me-lg-1">
          <a
            class="nav-link dropdown-toggle hidden-arrow d-sm-flex align-items-sm-center"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <%= avatar_for current_user %>
            <strong class="d-none d-sm-block ms-1"><%= current_user.username %></strong>
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuLink"
          >
            <li><%= link_to 'Edit Account', edit_user_registration_path, class:"dropdown-item" %></li>
            <li><%= link_to "Profile", profile_path(current_user), class:"dropdown-item" %></li>
            <li><%= link_to 'Log out', destroy_user_session_path, method: :delete, class: "dropdown-item" %></li>
          </ul>
        </li>
      <% else %>
        <li class="nav-item mx-2 me-lg-1">
          <%= link_to "Register", new_user_registration_path, class:"nav-link" %>
        </li>
        <li class="nav-item mx-2 me-lg-1">
          <%= link_to "Login", new_user_session_path, class:"nav-link" %>
        </li>
      <% end %>
    </ul>
    <!-- Right elements -->
  </div>
</nav>